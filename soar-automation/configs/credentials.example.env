# ============================================
# CREDENCIAIS DO SISTEMA SOAR
# ============================================
# IMPORTANTE: Copie este arquivo para credentials.env
# e preencha com suas credenciais reais.
# NUNCA commite credentials.env no git!

# ============================================
# VIRUSTOTAL API
# ============================================
# Obter em: https://www.virustotal.com/gui/my-apikey
# Plano gratuito: 4 requests/minuto
VIRUSTOTAL_API_KEY=sua-api-key-aqui

# ============================================
# OPENAI (ou use Ollama local)
# ============================================
# Obter em: https://platform.openai.com/api-keys
# Modelo recomendado: gpt-4o-mini (custo-benefício)
OPENAI_API_KEY=sk-sua-key-aqui

# Alternativa: Ollama Local (gratuito)
# Deixe em branco se usar Ollama
# OLLAMA_URL=http://localhost:11434
# OLLAMA_MODEL=llama3.2:3b

# ============================================
# GLPI API
# ============================================
# Base URL do seu GLPI
GLPI_BASE_URL=https://glpi.dlino.us

# App Token: GLPI → Setup → General → API → Add API Client
GLPI_APP_TOKEN=seu-app-token-aqui

# User Token: GLPI → Meu Perfil → Configurações → Tokens API
GLPI_USER_TOKEN=seu-user-token-aqui

# Session Token (gerado via API - veja docs)
# Expira periodicamente, precisa ser renovado
GLPI_SESSION_TOKEN=seu-session-token-aqui

# ============================================
# TACTICAL RMM API
# ============================================
# Base URL do seu TacticalRMM
TACTICAL_RMM_URL=https://rmm.dlino.us

# API Key: TacticalRMM → Settings → Global Settings → API Keys
TACTICAL_RMM_API_KEY=sua-api-key-aqui

# ============================================
# TELEGRAM BOT
# ============================================
# Bot Token: Obter com @BotFather no Telegram
# Comandos:
#   /newbot → Crie novo bot
#   /mybots → Liste seus bots
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Chat ID: Envie mensagem para @userinfobot
# Ou use o ID do grupo se quiser notificações em grupo
TELEGRAM_CHAT_ID=123456789

# ============================================
# WAZUH (informações de referência)
# ============================================
# Não precisa de API key para receber alertas via webhook
# Apenas configure o webhook no ossec.conf
WAZUH_URL=https://soc.dlino.us
WAZUH_WEBHOOK_LEVEL=7

# ============================================
# N8N WEBHOOKS (gerados automaticamente)
# ============================================
# Após importar workflow, copie as URLs dos webhooks aqui
# para referência
N8N_WEBHOOK_WAZUH=https://n8n.dlino.us/webhook/wazuh-alert
N8N_WEBHOOK_TELEGRAM=https://n8n.dlino.us/webhook/telegram-callback

# ============================================
# CONFIGURAÇÕES OPCIONAIS
# ============================================
# Timeout para aprovação via Telegram (em minutos)
APPROVAL_TIMEOUT=30

# Nível mínimo de severidade para auto-remediação
# CRITICAL, HIGH, MEDIUM, LOW
AUTO_REMEDIATE_LEVEL=MEDIUM

# Ativar modo debug (logs detalhados)
DEBUG_MODE=false

# ============================================
# NOTAS
# ============================================
# 1. Para gerar GLPI Session Token:
#    curl -X POST https://glpi.dlino.us/apirest.php/initSession \
#      -H "App-Token: $GLPI_APP_TOKEN" \
#      -H "Authorization: user_token $GLPI_USER_TOKEN"
#
# 2. Para testar Telegram Bot:
#    curl https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/getMe
#
# 3. Para configurar Telegram Webhook:
#    curl -X POST https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/setWebhook \
#      -d "url=$N8N_WEBHOOK_TELEGRAM"
#
# 4. Para testar TacticalRMM API:
#    curl https://rmm.dlino.us/api/v3/agents/ \
#      -H "X-API-KEY: $TACTICAL_RMM_API_KEY"
